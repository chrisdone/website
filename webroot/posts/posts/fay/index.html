<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fay, JavaScript, etc.</title>
    <style>
      body {
      max-width: 40em;
      margin: .5in auto;
      font-size: 18px;
      font-family: serif;
      line-height: 1.5;
      }
      pre, code {
      font-size: 16px;
      word-wrap: break-word;
      }
      pre {
      margin-left: 1.5em;
      line-height: 1.5em;
      }
      a {
      color: #1a6e8e
      }
      .menu a {
      margin-right: 1em;
      }
      h1,h2,h3,h4,h5,h6 {
      font-family: Helvetica;
      }

      h1 a,h2 a,h3 a,h4 a {
      text-decoration: none;
      color: inherit;
      }

      .post-1,.post-2{
      margin-bottom: 0.5em;
      }

      .author {
      display: none;
      }

      footer {
      margin-top: 1.5em;
      padding-top: 1.5em;
      border-top: 1px solid #ccc;
      margin-bottom: 2em
      }

      footer span {
      display: none;
      }

      img {
      max-width: 100%
      }
      pre.sourceCode span.st {
      color: #366354
      }
      pre.sourceCode span.kw {
      color: #397460
      }
      pre.sourceCode span.fu {
      color: #8f4e8b
      }
      pre.sourceCode span.ot {
      color: #2e659c
      }
      pre.sourceCode span.dt {
      color: #4F4371
      }
      pre.sourceCode span.co {
      color: #666
      }
      @media(max-width:767px){
      body { margin: 1px 4px; }
      h1, h2, .menu { margin: 0; }
      h1 { font-size: 1.5em; }
      h2 { font-size: 1.125em; }
      h3 { font-size: 1.0125em; }
      .menu a { margin-right: 0.1em; }
      #archive { margin-left: 1em; margin-top: 0; padding: 0}
      #archive .post-1, #archive .post-2 {
      margin-bottom: 0.1em;
      }
      }
    </style>
  </head>
  <body>
    <div class="page-wrap">
      <h1>Fay, JavaScript, etc.</h1>

<p>A couple months back I released Fay in a preliminary stage, with a <a href="http://fay-lang.org/">little web site of its own</a>. I haven’t blogged about it yet, so I thought I’d do that.</p>
<h2 id="setting-the-scene">Setting the scene</h2>
<p>And lo, when God created the world, he looked at it, and saw that it was good.</p>
<p>When Brendan Eich created JavaScript, he looked at it, and saw that it was good enough given the questionable requirements and strict time constraints.</p>
<p>When I look at JavaScript, I see that it is bad. And not good enough given the various other superior languages out there.</p>
<p>But I repeat myself, see <a href="http://www.haskell.org/haskellwiki/The_JavaScript_Problem">The JavaScript Problem</a> for more details.</p>
<h2 id="recognizing-it-as-a-real-problem">Recognizing it as a real problem</h2>
<p>I think any developer with their head screwed on knows about the above problems and that JavaScript needs to be replaced as soon as possible. But the problem is immediate.</p>
<p>My approach to the problem, as with everyone else, has long been: well, we can’t do anything about it, let’s just wait for Google to complete their native client project and hope that it breaks the market. Or, let’s wait until the existing compiling-to-JavaScript solutions become usable.</p>
<p>Any way you look at it, as you sit down to write a new project, and every time you get a stupid error due to JavaScript’s wackiness, you say to yourself “just one more project in JavaScript… just this quick script…”</p>
<p>After seeing Inventing on Principle<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, I was profoundly influenced by Bret Victor’s message. His talk was impressive, but his message was moreso. The idea that I took away from watching it was:</p>
<p>“If you recognise something as a problem, and you have the capability to fix it, you have a moral duty to fix that problem.”</p>
<p>I’m not sure I have such strong convictions as Bret to apply that generally, but his principled approach influenced me. One day I wanted to write a web app, and got that sinking feeling of wasting it on JavaScript, and decided never to write any JavaScript again for a new project.</p>
<h2 id="fixing-the-problem">Fixing the problem</h2>
<p>I decided that to make such a claim, I should have to back it up with a solution, and do it fast. So I spent that weekend hacking on a Haskell compiler for JavaScript. I spent another weekend polishing it, and on the third week I was using it at work in production. Back then the project was called “hj.” And for months it sat hidden, private to me. A mini-success and a solution to the problem I saw.</p>
<p>I’ll note that Elm and Roy also inspired me to give it a go.</p>
<h2 id="reaction">Reaction</h2>
<p>Fast-forward a couple months, I decide it’s time to re-brand it to something friendly and put it online. I called it “Fay.”</p>
<p>Someone posted it to Reddit’s programming forum and Hacker News, and the site got about ten thousand hits in two days. Lots of interest generated, and people emailed me asking what the implications of such a project are. That’s really encouraging!</p>
<p>I got invited to talk at <a href="http://2012.lxjs.org/">LXJS</a>, a JavaScript conference. I will be going in two weeks. Ironically, I will go to basically say how much I dislike JavaScript to a crowd of people who mostly like JavaScript, but that’s how I roll.</p>
<p>After putting it on Github I had quite <a href="https://github.com/faylang/fay/network">a few contributions</a>, too!</p>
<p>Today and tomorrow I’ll be producing a bunch of demo examples of Fay code, and finalizing my short 20-minute talk.</p>
<h2 id="future-work">Future work</h2>
<p>Fay is missing some things that would be nice to have:</p>
<ul>
<li>Type-classes</li>
<li>Tail-call optimization</li>
<li>Strictness analysis</li>
<li>Source mappings</li>
<li>Cabal support</li>
<li>Lots more other stuff</li>
</ul>
<p>But these can wait a bit of time. I could/would write more, in more detail, but I have a lot of stuff to do at the moment. So, apologies for the brief post, but I thought it was worth having this post in the blog for the sake of chronology, and to get this series of events out of my system. That’s the point of a blog, right?</p>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>Watch it on <a href="http://vimeo.com/36579366">Vimeo</a>, or on <a href="http://www.youtube.com/watch?v=PUv66718DII">YouTube</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>


<footer>
  <table style="width:100%">
    <tr>
      <td>© 2012-09-15 <a href="../../">Chris Done</a></td>
      <td style="text-align:right"><a href="../../posts">Read more posts →</a></td>
    </tr>
  </table>
</footer>

    </div>
  </body>
</html>
