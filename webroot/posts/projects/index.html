<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Projects</title>
    <style>
      body {
      max-width: 40em;
      margin: .5in auto;
      font-size: 18px;
      font-family: serif;
      line-height: 1.5;
      }
      pre, code {
      font-size: 16px;
      word-wrap: break-word;
      }
      pre {
      padding-left: 1em;
      line-height: 1.5em;
      border-left: 5px solid #efefef;
      }
      a {
      color: #1a6e8e
      }
      .menu a {
      margin-right: 1em;
      }
      h1,h2,h3,h4,h5,h6 {
      font-family: Helvetica;
      }

      h1 a,h2 a,h3 a,h4 a {
      text-decoration: none;
      color: inherit;
      }

      .post-1,.post-2{
      margin-bottom: 0.5em;
      }

      .author {
      display: none;
      }

      footer {
      margin-top: 1.5em;
      padding-top: 1.5em;
      border-top: 1px solid #ccc;
      margin-bottom: 2em
      }

      footer span {
      display: none;
      }

      img {
      max-width: 100%
      }
      pre.sourceCode span.st {
      color: #366354
      }
      pre.sourceCode span.kw {
      color: #397460
      }
      pre.sourceCode span.fu {
      color: #8f4e8b
      }
      pre.sourceCode span.ot {
      color: #2e659c
      }
      pre.sourceCode span.dt {
      color: #4F4371
      }
      pre.sourceCode span.co {
      color: #666
      }
      @media(max-width:767px){
      body { margin: 1px 4px; }
      h1, h2, .menu { margin: 0; }
      h1 { font-size: 1.5em; }
      h2 { font-size: 1.125em; }
      h3 { font-size: 1.0125em; }
      .menu a { margin-right: 0.1em; }
      #archive { margin-left: 1em; margin-top: 0; padding: 0}
      #archive .post-1, #archive .post-2 {
      margin-bottom: 0.1em;
      }
      }
      .footnote-ref { text-decoration: none; }
    </style>
  </head>
  <body>
    <div class="page-wrap">

<h1>Projects</h1>

<p>It might be a “getting old[-er]” thing, but I’ve recently started
feeling like documenting the complete set of software projects I’ve
worked on that I remember. Not as a CV (an advertisement of paid work),
but a comprehensive list of <em>everything</em>.</p>
<p>I’ll start with the old stuff and continuously make updates a little
bit per day. After a few weeks I should be done.</p>
<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#2014">2014</a>
<ul>
<li><a href="#ace">ace</a></li>
<li><a href="#hl">hl</a></li>
<li><a href="#formatting">formatting</a></li>
<li><a href="#hindent">hindent</a></li>
<li><a href="#foreign-store">foreign-store</a></li>
<li><a href="#shell-conduit">shell-conduit</a></li>
<li><a href="#lucid">lucid</a></li>
</ul></li>
<li><a href="#2013">2013</a>
<ul>
<li><a href="#pure-io">pure-io</a></li>
<li><a href="#god-mode">god-mode</a></li>
<li><a href="#structured-haskell-mode">structured-haskell-mode</a></li>
<li><a href="#haskellnews">haskellnews</a></li>
<li><a href="#ircbrowse">ircbrowse</a></li>
</ul></li>
<li><a href="#2012">2012</a>
<ul>
<li><a href="#fay">fay</a></li>
</ul></li>
<li><a href="#2011">2011</a>
<ul>
<li><a href="#hulk">hulk</a></li>
<li><a href="#ji">ji</a></li>
</ul></li>
<li><a href="#2010">2010</a>
<ul>
<li><a href="#tryhaskell">tryhaskell</a></li>
<li><a href="#jquery-console">jquery-console</a></li>
<li><a href="#lisk">lisk</a></li>
</ul></li>
<li><a href="#2008">2008</a>
<ul>
<li><a href="#kibro">kibro</a></li>
<li><a href="#lojbot">lojbot</a></li>
</ul></li>
<li><a href="#2006">2006</a>
<ul>
<li><a href="#slsksoulski">slsk/soulski</a></li>
<li><a href="#wdn">wdn</a></li>
</ul></li>
</ul>
<!-- markdown-toc end -->
<!-- # 2023 -->
<!-- ## hell -->
<!-- # 2020 -->
<!-- ## early -->
<!-- ## inflex -->
<!-- # 2019 -->
<!-- ## vado -->
<!-- # 2017 -->
<!-- ## xeno -->
<!-- # 2015 -->
<!-- ## path -->
<h1 id="section">2014</h1>
<h2 id="ace">ace</h2>
<p>In the afterglow of growing bored of Lojban, but still enamoured by
formal human languages, I got into Attempto (Latin for ‘I dare’)
Controlled English. I ended up writing a parser package for it in
Haskell <a href="https://github.com/chrisdone-archive/ace">here</a>.
It’s surprisingly comprehensive, I wrote <a
href="https://chrisdone.com/posts/attempto-controlled-english/">a blog
post on it</a>. It even permits passing a record of parsers, permitting
the user to define their own vocabulary and syntax for terms.</p>
<p>When I wrote it, use of such things was questionable. Combine it with
a logic database and <em>poof</em>, magic understanding! In reality, not
quite. Arguably, the use for such a thing in today’s brave new world of
LLMs is even more questionable.</p>
<p>But I suppose there still lies a small place in my heart for a formal
language that is also readable by anyone who speaks English.</p>
<h2 id="hl">hl</h2>
<p>The Haskell web site has already been a bit crap. Today, it’s okay.
It’s been much worse. During that period of much-worseness, I wrote <a
href="https://github.com/chrisdone-archive/hl">hl</a>, an alternative
Haskell homepage, complete with <a
href="https://chrisdone.com/posts/haskell-lang/">reasoning</a>, which I
launched at haskell-lang.org as an alternative competing page, due to
making no progress at all for years in trying to get access to
haskell.org itself. Eventually, it did become the Haskell homepage due
to some diplomatic heroics. In that sense, I suppose the project was a
success. There was, as expected, lots of politics surrounding it, but
that’s always the case with home pages of community projects.</p>
<h2 id="formatting">formatting</h2>
<p>I thought that the <a
href="https://hackage.haskell.org/package/HoleyMonoid">HoleyMonoid</a>
package was very neat, and decided it would make a perfect type-safe
printf-like package. I called it <a
href="https://github.com/chrisdone-archive/formatting">formatting</a>,
after Common Lisp’s FORMAT.</p>
<p>Actually, it turned out that despite the neat trick, I really doing
like the position-dependent style of printf/FORMAT at all. I prefer just
writing <code>x &lt;&gt; " and " &lt;&gt; y</code> instead, or
<code>concat [x, "and", y]</code>. So the whole thing became an
experiment in novelty, but ultimately I lost interest and passed the
maintainership onto someone else.</p>
<h2 id="hindent">hindent</h2>
<p><a href="https://github.com/chrisdone-archive/hindent">hindent</a>
was my bold attempt to make a complete pretty printer for Haskell, so
that manual code formatting would be a thing of the past. This was quite
a substantial project and took a lot of work. <a
href="https://chrisdone.com/posts/hindent/">The blog post</a> explains
the motivations, but I just wanted to type less and get autoformatting.
I later went one step further and limited it to a single style (which is
what gofmt famously did), which I documented <a
href="https://chrisdone.com/posts/hindent-5/">here</a>. I even chose a
style that I didn’t like, but that was popular. The decision to enforce
just one style made a lot of people mad.</p>
<p>Years later, there was a remake project called Ormolu<a href="#fn1"
class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>,
which also enforced one style. There was subsequently a fork called
Fourmolu, which permitted more style configuration.<a href="#fn2"
class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<h2 id="foreign-store">foreign-store</h2>
<p>The <a
href="https://github.com/chrisdone-archive/foreign-store">foreign-store</a>
package is a simple bit of C code wrapped in a Haskell package that lets
you keep a reference to a Haskell object between GHCi reloads, which I
wrote <a href="https://chrisdone.com/posts/ghci-reload/">for the purpose
of hot reloading.</a> It’s actually still used to this day and
maintained by someone else. There are 12 direct dependencies of it on
Hackage, mostly various different ways of doing code reloading.<a
href="#fn3" class="footnote-ref" id="fnref3"
role="doc-noteref"><sup>3</sup></a> They’re all fancy wrappers around
this.</p>
<p>10 years after it had been published and not been touched for just as
long, someone found and fixed a segfaulting bug in the C code. Can you
believe it?</p>
<h2 id="shell-conduit">shell-conduit</h2>
<p>I’ve been wanted to write shell scripts since 2014. This attempt, <a
href="https://github.com/chrisdone-archive/shell-conduit">shell-conduit</a>,
was to get all available names in the <code>PATH</code>, available as
real Haskell identifiers to run. And then “scripts” would be regular
Haskell programs.</p>
<p>I’ve since changed my mind that this is a good idea, and see above
for the <a href="#hell">Hell</a> project.</p>
<h2 id="lucid">lucid</h2>
<p><a href="https://github.com/chrisdone/lucid">Lucid</a> is still
actively developed, and was motivated by have a uniformity of
combinators, like HTML handling in Common Lisp.</p>
<p>It’s also a proper monad transformer, which has a small theoretical
satisfaction to it.</p>
<p>It’s one of my projects that is using the <a
href="https://chrisdone.com/posts/ipp/">Immutable Publishing
Policy</a>.</p>
<h1 id="section-1">2013</h1>
<h2 id="pure-io">pure-io</h2>
<p>A small project called <a
href="https://github.com/chrisdone-archive/pure-io">pure-io</a> that
provided a little IO monad that would run as a pure function. I used
this for tryhaskell.org.</p>
<h2 id="god-mode">god-mode</h2>
<p>After suffering from RSI for a while, I had decided with Emacs I’d
look at my typing with statistics. After a week or so of full day typing
every day, I found that I made a significant proportion of key chords in
succession. I evaluated vim modes and realised that they depart from
Emacs quite a bit or lacked a story for many modes. In the end I had the
thought to make the Ctrl implicitly on all the time, and this turned out
to be undeniably productive and practical in the form of <a
href="https://github.com/chrisdone-archive/god-mode">god-mode</a>.</p>
<p>I’m still using it to this day, although it has been folded into my
Emacs config.</p>
<h2 id="structured-haskell-mode">structured-haskell-mode</h2>
<p>In similar themes to god-mode, I made a structured editor for Emacs’s
haskell-mode that would essentially let one edit Haskell code like
paredit. That used a Haskell parser via haskell-src-exts, and produced a
set of s-expressions for Emacs to convert to a set of markers. The minor
mode was called <a
href="https://github.com/chrisdone-archive/structured-haskell-mode">structured-haskell-mode</a>.</p>
<h2 id="haskellnews">haskellnews</h2>
<p><a
href="https://github.com/chrisdone-archive/haskellnews">haskellnews</a>
was a simple web app to list all the sources of blogs, posts, tweets,
etc. about Haskell. I sort of lost interest in social Mead and therefore
stopped running it. But for a while I enjoyed using it.</p>
<h2 id="ircbrowse">ircbrowse</h2>
<p>I wrote <a
href="https://github.com/chrisdone-archive/ircbrowse">ircbrowse</a> at
ircbrowse.net to be a replacement to the much older ircbrowse.com.</p>
<p>ircbrowse.com was a great web site for browsing chat logs of various
IRC channels, it was also infamously slow as hell. So a fundamental
motivator was to make something that would be instant, and I succeeded
on that, much to my personal pride.</p>
<p>It could handle about 30 million lines of chat across a few channels
for about 10 years of logs. There were something in the order of 30k
lines of chat from the #haskell channel per month.</p>
<p>I stopped running it after I lost interest in IRC, but it was a very
satisfying project and I learned a lot about PostgreSQL’s performance
characteristics in the process.</p>
<h1 id="section-2">2012</h1>
<h2 id="fay">fay</h2>
<p>I wrote a language called Fay, which was a Haskell without
type-classes that compiled to JavaScript, and used GHC’s type system for
the type-checking.</p>
<p>It ended up being quite popular, it garnered its own <a
href="https://github.com/faylang/">organisation</a>, and I had a
co-maintainer called Adam Bergmark, who was very nice and smart.<a
href="#fn4" class="footnote-ref" id="fnref4"
role="doc-noteref"><sup>4</sup></a></p>
<p>I was invited to and went to a conference in Lisbon to give a talk on
it.</p>
<p>FP Complete used it for their IDE which was a web based Haskell IDE,
which is pretty much how I got the job at FP Complete in 2013. A couple
years or so later, after the IDE project petered out, we stopped using
it. There were better options by then (PureScript, etc.).<a href="#fn5"
class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<ul>
<li><a href="/posts/fay">Blog post</a></li>
</ul>
<h1 id="section-3">2011</h1>
<h2 id="hulk">hulk</h2>
<p>I wrote an IRC server for use at work for us to chat on. We used it
for some years after we all left, until we eventually migrated to an app
called Wire (also written in Haskell).</p>
<p>This was my first proper experience using threading in Haskell and
working on a sockets server in Haskell. I would note that architecting
an IRC server in a nice way remains an unsolved problem in my head. In
any language.</p>
<ul>
<li><a href="https://github.com/chrisdone-archive/hulk">GitHub
archive</a></li>
<li><a href="/posts/hulk-haskell-irc-server">Blog post</a></li>
</ul>
<h2 id="ji">ji</h2>
<p>I wrote a library called <a href="/posts/ji-haskell-web/">Ji</a>,
which is a simple concept to write a web app in Haskell that sends
commands to a browser of what DOM changes to make and what events to
listen to.</p>
<p>It was taken over by Heinrich Apfelmus and renamed to <a
href="https://github.com/HeinrichApfelmus/threepenny-gui">threepenny-gui</a>,
after which he added many FRP-based things and has likely rewritten all
of it by this point.</p>
<h1 id="section-4">2010</h1>
<h2 id="tryhaskell">tryhaskell</h2>
<p><a href="https://tryhaskell.org/">tryhaskell.org</a></p>
<p>This was a big splash when I made it, it hit the top of some big
subreddits and Hacker News. It was inspired by tryruby.org, which was
made by _whytheluckystiff, the mysterious Rubyist who disappeared from
the community. It runs you through an interactive tutorial about Haskell
basics and checks your answers.</p>
<p>I’ve been meaning to rewrite this one day, but so far haven’t been
sufficiently inspired to do so.</p>
<p>It’s been running for 14 years, which is quite a long time.</p>
<h2 id="jquery-console">jquery-console</h2>
<p>Written for Try Haskell, this is <a
href="https://github.com/chrisdone-archive/jquery-console">was</a> dumb
terminal/console-like experience in the browser using JQuery. It still
works correctly to this day, on tablets, phones and computers. I stopped
maintaining it as a separate package years and years ago, but tryhaskell
still works fine.</p>
<h2 id="lisk">lisk</h2>
<p>I had enough hubris to think I would be able to write a Lisp syntax
on top of Haskell, and called it <a
href="/posts/lisk-lisp-haskell">Lisk</a>.</p>
<p>I was happy with Haskell, but bummed out by its syntax compared to
the beauty of Lisp. That hasn’t changed today in 2024.</p>
<ul>
<li><a href="https://github.com/chrisdone-archive/lisk">GitHub
archive</a></li>
</ul>
<h1 id="section-5">2008</h1>
<h2 id="kibro">kibro</h2>
<p>In 2008 I was working for a small sum on a hair salon’s new web site,
in Haskell. And I made a very trivial web library called “Kibro” (from
the Lojban “cyberspace”), which sat upon CGI and could be ran from PHP,
which is how I was running it.</p>
<ul>
<li>Source code archive: <a
href="/archives/2008/kibro-0.5.0.tar.gz">kibro-0.5.0.tar.gz</a></li>
<li>Other links: <a
href="https://chrisdone.com/posts/kibro-refactoring/">Kibro
refactoring</a></li>
</ul>
<h2 id="lojbot">lojbot</h2>
<p>Around this time I was an enthusiastic Lojban hobbyist, so I wrote an
IRC bot with various capabilities.</p>
<ul>
<li><a href="https://github.com/chrisdone-archive/lojbot">GitHub
archive</a></li>
<li><a href="https://chrisdone.com/posts/lojbot/">Blog post</a></li>
</ul>
<h1 id="section-6">2006</h1>
<h2 id="slsksoulski">slsk/soulski</h2>
<p>A project for the Soulseek music sharing network. Web site, which may
not remain long-term: <a
href="https://slsk.sourceforge.net/">slsk.sourceforge.net</a>.
Amusingly, it still looks great. <a
href="/images/blog/slsk-screenshot-2007.png">Here’s a screenshot.</a> <a
href="/images/blog/slsk.jpeg">Another</a>. I started writing a C library
for Soulseek: <a
href="/archives/2006/soulski/soulseek-library-0.01.zip">soulseek-library-0.01.zip</a>
I started writing a GUI library in C for it: <a
href="/archives/2006/soulski/exgui-library-0.1.zip">exgui-library-0.1.zip</a>
I started writing a CSS parser in C for it: <a
href="/archives/2006/soulski/css-library-prototype-0.01.zip">css-library-prototype-0.01.zip</a></p>
<p>I originally had big ambitions for this, but later lost interest. It
looks like I planned to rewrite it in Common Lisp, but got bored of the
project before I did.</p>
<h2 id="wdn">wdn</h2>
<p>I had a project called ‘windows desktop notes’ (WDN), that I
originally <a href="/archives/2006/wdm/slsk-code-r110-wdm.zip">wrote in
C</a>. It would overlay some plain text notes on your desktop and you
could click it and get an edit box and then hit Enter to save again.</p>
<p>Then I ported it, or tried to, <a
href="/archives/2006/wdn/wdn.lisp">to Lisp</a>.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>It just had a small technological advantage of being
based on GHC’s parser, rather than haskell-src-exts, which is always
playing catch-up.<a href="#fnref1" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Which I consider a bit of a setback towards the dream of
making style choices a thing of the past. But I think Ormolu will win
eventually. Maintaining forks is hard work.<a href="#fnref2"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>componentm-devel, espial, essence-of-live-coding,
essence-of-live-coding-gloss, essence-of-live-coding-pulse,
ghci-websockets, halive, jsaddle-warp, monomer, nvim-hs, rapid<a
href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>In retrospect I mishandled a situation where Fay was
being used in production and we were breaking its APIs too often, and I
blocked Adam’s <code>master</code> push access to the repo to give me
some breathing room to slow things down, but this was obviously the
wrong move, and not how you should treat early collaborators. That was
my first experience managing a project, so I cut my younger self some
slack. However, he was very gracious about it in the moment.<a
href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>See a complete history <a
href="https://chrisdone.com/posts/clientside-programming-haskell/">here.</a><a
href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>


<footer>
  <table style="width:100%">
    <tr>
      <td>© 2024-05-12 <a href="/">Chris Done</a></td>
      <td style="text-align:right"><a href="/posts">Read more posts →</a></td>
    </tr>
  </table>
</footer>

    </div>
  </body>
</html>
